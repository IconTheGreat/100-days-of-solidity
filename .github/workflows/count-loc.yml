- name: Count Solidity LOC and update progress-log.md
  run: |
    echo "ðŸ“‚ Current Directory:"
    ls -R

    echo "ðŸ“„ Searching for .sol files in src/"
    FILES=$(find src -type f -name '*.sol')

    if [ -z "$FILES" ]; then
      echo "âŒ No Solidity files found!"
      LOC=0
    else
      echo "âœ… Found Solidity files:"
      echo "$FILES"
      LOC=$(cat $FILES | wc -l)
    fi

    DATE=$(date +"%Y-%m-%d")
    echo "- $DATE: $LOC lines of Solidity code." >> progress-log.md

    git add progress-log.md
    git commit -m "chore: update progress log for $DATE â€” $LOC LOC" || echo "Nothing to commit"
    git push origin main